<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramppy News | Newsletter Gratuita sobre Vendas e Gestão Comercial</title>
    <meta name="description" content="Ramppy News: 10 minutos por dia para vender melhor. Conteúdo gratuito, prático e direto ao ponto para vendedores, líderes e gestores comerciais.">
    <meta name="keywords" content="newsletter vendas, conteúdo vendas, dicas vendas, gestão comercial, treinamento vendas gratuito, Ramppy News">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://ramppy.com.br/ramppynews.html">

    <!-- Open Graph -->
    <meta property="og:title" content="Ramppy News | Aprenda Vendas em 10 Minutos por Dia">
    <meta property="og:description" content="Newsletter gratuita com conteúdo prático sobre vendas e gestão comercial. Sem enrolação, direto ao ponto.">
    <meta property="og:url" content="https://ramppy.com.br/ramppynews.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://ramppy.com.br/og-image.png">
    <meta property="og:site_name" content="Ramppy">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ramppy News | Newsletter de Vendas">
    <meta name="twitter:description" content="10 minutos por dia para vender melhor. Gratuito e prático.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="64x64" href="logo.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="logo.png?v=3">
    <link rel="shortcut icon" href="logo.png?v=3">

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="notification-system.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        /* Ramppy News Specific Styles */
        body.news-page {
            background: #fafafa !important;
            min-height: 100vh;
        }

        .news-page .navbar {
            background: #fff;
            border-bottom: 1px solid #eee;
        }

        .news-hero {
            background: #fff;
            padding: 5px 0 60px;
            text-align: center;
        }

        .news-logo-img {
            max-width: 550px;
            height: auto;
            margin-bottom: -120px;
        }

        .news-title {
            font-size: clamp(42px, 6vw, 72px);
            font-weight: 900;
            color: #000;
            line-height: 1;
            margin-bottom: 0;
        }

        .news-title .highlight {
            color: #2ed573;
        }

        .news-subtitle {
            font-size: clamp(28px, 4vw, 48px);
            font-weight: 900;
            color: #000;
            line-height: 1.15;
            margin-bottom: 24px;
        }

        .news-description {
            font-size: 18px;
            color: #555;
            max-width: 550px;
            margin: 0 auto 32px;
            line-height: 1.6;
        }

        .news-description strong {
            color: #000;
            font-weight: 600;
        }

        /* Subscribe Form */
        .subscribe-form {
            display: flex;
            justify-content: center;
            margin: 0 auto;
        }

        .news-signup-btn {
            display: inline-block;
            background: linear-gradient(135deg, #1a1a1a, #000);
            color: #fff;
            border: none;
            padding: 16px 48px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .news-signup-btn:hover {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
        }

        .news-cta-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 24px;
            background: linear-gradient(135deg, #00ff6a, #1db954);
            color: #000;
            font-size: 16px;
            font-weight: 700;
            text-decoration: none;
            padding: 14px 28px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(29, 185, 84, 0.4);
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(29, 185, 84, 0.4);
            }
            50% {
                box-shadow: 0 4px 30px rgba(0, 255, 106, 0.6);
            }
        }

        .news-cta-link:hover {
            background: linear-gradient(135deg, #1ed760, #00ff6a);
            transform: scale(1.05);
            box-shadow: 0 6px 30px rgba(0, 255, 106, 0.6);
        }

        .news-cta-link svg {
            fill: #000;
        }

        /* How it Works Section */
        .news-how-it-works {
            padding: 80px 0;
            background: #fafafa;
        }

        .news-section-title {
            font-size: 36px;
            font-weight: 800;
            color: #000;
            text-align: center;
            margin-bottom: 64px;
        }

        .news-section-title .highlight {
            color: var(--primary-green);
        }

        .news-steps {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .news-step {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.08) 0%, rgba(34, 197, 94, 0.02) 100%);
            border-radius: 24px;
            padding: 48px 32px;
            text-align: left;
            display: flex;
            flex-direction: column;
        }

        .news-step-description {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
            flex: 1;
        }

        .news-step-description strong {
            color: #000;
            font-weight: 600;
        }

        .news-step-number {
            font-size: 64px;
            font-weight: 900;
            color: var(--primary-green);
            line-height: 1;
            margin-bottom: 16px;
        }

        .news-step-title {
            font-size: 24px;
            font-weight: 700;
            color: #000;
            margin-bottom: 12px;
        }

        .news-step-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            padding: 12px 24px;
            background: #000;
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .news-step-btn:hover {
            background: #222;
            transform: translateY(-2px);
        }

        .news-step-btn-whatsapp {
            background: #25D366;
            color: #fff;
        }

        .news-step-btn-whatsapp:hover {
            background: #1da851;
        }

        .news-step-btn-whatsapp svg {
            flex-shrink: 0;
        }

        .news-step-btn-spacer {
            display: block;
            height: 46px;
            margin-top: 20px;
        }

        /* Benefits Section */
        .news-benefits {
            padding: 80px 0;
            background: #fff;
        }

        .news-benefits-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            max-width: 900px;
            margin: 0 auto;
        }

        .news-benefit {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 24px;
            background: #fafafa;
            border-radius: 16px;
        }

        .news-benefit-icon {
            width: 48px;
            height: 48px;
            background: rgba(34, 197, 94, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .news-benefit-icon svg {
            color: var(--primary-green);
        }

        .news-benefit-text h4 {
            font-size: 18px;
            font-weight: 600;
            color: #000;
            margin-bottom: 4px;
        }

        .news-benefit-text p {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        /* Editions Section */
        .news-editions {
            padding: 80px 0;
            background: #fafafa;
        }

        .news-editions-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .news-editions-title {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary-green);
        }

        .news-filter-tags {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .news-filter-tag {
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
            color: #666;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .news-filter-tag:hover,
        .news-filter-tag.active {
            border-color: var(--primary-green);
            color: var(--primary-green);
            background: rgba(34, 197, 94, 0.05);
        }

        .news-editions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .news-edition-card {
            background: #fff;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .news-edition-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }

        .news-edition-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, var(--primary-green) 0%, #1ed760 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .news-edition-image .edition-number {
            font-size: 48px;
            font-weight: 900;
            color: rgba(0,0,0,0.2);
        }

        .news-edition-tag {
            position: absolute;
            top: 12px;
            left: 12px;
            background: #000;
            color: #fff;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .news-edition-content {
            padding: 20px;
        }

        .news-edition-date {
            font-size: 13px;
            color: var(--primary-green);
            margin-bottom: 8px;
        }

        .news-edition-title {
            font-size: 18px;
            font-weight: 700;
            color: #000;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .news-edition-excerpt {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        /* CTA Section */
        .news-cta {
            padding: 100px 0;
            background: #000;
            text-align: center;
        }

        .news-cta h2 {
            font-size: 42px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 16px;
        }

        .news-cta p {
            font-size: 18px;
            color: #999;
            margin-bottom: 40px;
        }

        .news-cta .subscribe-form {
            border-color: #333;
            background: #111;
        }

        .news-cta .subscribe-form input {
            color: #fff;
        }

        .news-cta .subscribe-form input::placeholder {
            color: #666;
        }

        /* Social Section */
        .news-social {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 48px;
        }

        .news-social a {
            width: 48px;
            height: 48px;
            background: #222;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            transition: all 0.3s ease;
        }

        .news-social a:hover {
            background: var(--primary-green);
            color: #000;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .news-steps {
                grid-template-columns: 1fr;
                max-width: 500px;
            }

            .news-editions-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .news-benefits-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .news-hero {
                padding: 100px 20px 60px;
            }

            .subscribe-form {
                flex-direction: column;
                border-radius: 16px;
                padding: 16px;
            }

            .subscribe-form .input-wrapper {
                padding: 12px;
                border-bottom: 1px solid #eee;
            }

            .subscribe-form button {
                width: 100%;
                margin-top: 12px;
            }

            .news-editions-grid {
                grid-template-columns: 1fr;
            }

            .news-editions-header {
                flex-direction: column;
                gap: 16px;
                align-items: flex-start;
            }

            .news-cta h2 {
                font-size: 28px;
            }
        }

        /* Override dark theme for this page */
        body.news-page {
            color: #000 !important;
        }

        body.news-page .space-background {
            display: none !important;
        }

        body.news-page .navbar {
            position: fixed;
            width: 100%;
            z-index: 1000;
            background: #fff !important;
            border-bottom: 1px solid #eee;
        }

        body.news-page .navbar .logo-img {
            height: 32px !important;
            width: auto !important;
            transform: scale(5);
            transform-origin: left center;
        }

        body.news-page .nav-links a {
            color: #333 !important;
        }

        body.news-page .nav-links a:hover {
            color: var(--primary-green) !important;
        }

        body.news-page .btn-login {
            color: #333 !important;
        }

        body.news-page .btn-signup {
            color: #333 !important;
            border-color: #ddd !important;
        }

        body.news-page footer {
            background: #111 !important;
        }

        body.news-page footer * {
            color: #fff;
        }

        body.news-page footer a {
            color: rgba(255,255,255,0.7);
        }

        body.news-page footer a:hover {
            color: var(--primary-green);
        }

        /* ========== DYNAMIC EDITIONS STYLES - MODERN CARD GRID ========== */
        .loading-editions, .no-editions {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 18px;
        }

        .no-editions p {
            margin: 8px 0;
        }

        /* Search and Filters */
        .editions-search-container {
            margin-bottom: 24px;
        }

        .editions-search {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            background: #f5f5f5;
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .editions-search svg {
            color: #999;
            flex-shrink: 0;
        }

        .editions-search input {
            border: none;
            background: none;
            font-size: 15px;
            width: 100%;
            outline: none;
            font-family: inherit;
        }

        .editions-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-tag {
            padding: 10px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 700;
            background: #fff;
            color: #333;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
        }

        .filter-tag:hover {
            border-color: #2ed573;
            background: #e8f8e8;
        }

        .filter-tag.active {
            border-color: #2ed573;
            background: #2ed573;
            color: #000;
        }

        /* Editions Grid */
        .editions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        @media (max-width: 968px) {
            .editions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .editions-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Edition Card */
        .edition-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .edition-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 32px rgba(0,0,0,0.12);
        }

        .edition-card-image {
            position: relative;
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .edition-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .edition-card-image .placeholder-icon {
            font-size: 56px;
            opacity: 0.5;
        }

        .edition-card-category {
            position: absolute;
            top: 14px;
            left: 14px;
            background: #2ed573;
            color: #000;
            font-size: 11px;
            font-weight: 700;
            padding: 6px 14px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .edition-card-info {
            background: #2ed573;
            padding: 20px;
        }

        .edition-card-date {
            font-size: 12px;
            color: rgba(0,0,0,0.6);
            margin-bottom: 6px;
        }

        .edition-card-title {
            font-size: 18px;
            font-weight: 700;
            color: #000;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .edition-card-subtitle {
            font-size: 14px;
            color: rgba(0,0,0,0.7);
        }

        .edition-card-stats {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: 12px;
            font-size: 13px;
            color: rgba(0,0,0,0.5);
        }

        /* Edition Modal/Expanded View */
        .edition-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            overflow-y: auto;
            padding: 40px 20px;
        }

        .edition-modal.active {
            display: block;
        }

        .edition-modal-content {
            background: #fff;
            border-radius: 20px;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            position: relative;
        }

        .edition-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f0f0f0;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .edition-modal-close:hover {
            background: #e0e0e0;
        }

        .edition-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .edition-modal-number {
            background: #2ed573;
            color: #000;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }

        .edition-modal-date {
            color: #888;
            font-size: 14px;
        }

        .edition-modal-title {
            font-size: 32px;
            font-weight: 800;
            color: #000;
            margin-bottom: 24px;
            line-height: 1.2;
        }

        .edition-highlights {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 32px;
        }

        .edition-highlights h4 {
            font-size: 14px;
            font-weight: 700;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .edition-highlights ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .edition-highlights li {
            padding: 8px 0;
            font-size: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .topic-emoji {
            font-size: 18px;
        }

        .edition-articles {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }

        .article-card {
            border-left: 4px solid #2ed573;
            padding-left: 24px;
        }

        .article-category {
            display: inline-block;
            background: #ff4757;
            color: #fff;
            font-size: 11px;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 4px;
            margin-bottom: 12px;
        }

        .article-title {
            font-size: 22px;
            font-weight: 700;
            color: #000;
            margin-bottom: 16px;
            line-height: 1.3;
        }

        .article-image {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .article-content {
            font-size: 16px;
            line-height: 1.8;
            color: #333;
        }

        /* Parsed Markdown Styles */
        .article-content strong {
            font-weight: 700;
            color: #000;
        }

        .article-content em {
            font-style: italic;
        }

        .article-content u {
            text-decoration: underline;
        }

        .article-content mark {
            background: linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .article-content a {
            color: #2ed573;
            font-weight: 600;
            text-decoration: none;
            border-bottom: 2px solid transparent;
            transition: border-color 0.2s;
        }

        .article-content a:hover {
            border-bottom-color: #2ed573;
        }

        .article-heading {
            font-size: 20px;
            font-weight: 700;
            color: #000;
            margin: 24px 0 12px;
        }

        .article-quote {
            border-left: 4px solid #2ed573;
            background: #f8f9fa;
            padding: 16px 20px;
            margin: 20px 0;
            font-style: italic;
            color: #555;
            border-radius: 0 8px 8px 0;
        }

        .article-list {
            padding-left: 0;
            margin: 16px 0;
        }

        .article-list li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
            list-style: none;
        }

        .article-list li::before {
            content: "•";
            color: #2ed573;
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .edition-card {
                padding: 24px 20px;
            }

            .edition-title {
                font-size: 22px;
            }

            .article-title {
                font-size: 18px;
            }

            .article-card {
                padding-left: 16px;
            }
        }
    </style>

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" crossorigin="anonymous"></script>

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">
</head>
<body class="news-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="ramppy preto.png" alt="Ramppy" class="logo-img">
                    </a>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="funcionalidades.html">Funcionalidades</a></li>
                    <li><a href="contato.html">Contato</a></li>
                    <li><a href="index.html#pricing">Planos</a></li>
                    <li><a href="ramppynews.html" style="color: var(--primary-green); font-weight: 600;">RamppyNews</a></li>
                </ul>
                <div class="nav-actions">
                    <a href="#login" class="btn-login">Login</a>
                    <a href="#signup" class="btn-signup">Cadastro</a>
                    <a href="index.html#get-started" class="btn-primary">Usar Ramppy</a>
                </div>
                <button class="mobile-menu-btn" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="news-hero">
        <div class="container">
            <img src="Ramppynews.png" alt="Ramppy News" class="news-logo-img">

            <h1 class="news-title">
                a <span class="highlight">+ prática</span>
            </h1>
            <h2 class="news-subtitle">
                newsletter de vendas do Brasil
            </h2>

            <p class="news-description">
                Pequenos <strong>10 minutos diários</strong> de conteúdo prático<br>transformando vendas e gestão comercial
            </p>

            <div class="subscribe-form">
                <a href="#signup" class="news-signup-btn">quero participar da comunidade</a>
            </div>

            <a href="#editions" class="news-cta-link">
                leia nossas edições
            </a>
        </div>
    </section>

    <!-- How it Works -->
    <section class="news-how-it-works">
        <div class="container">
            <h2 class="news-section-title">
                mais inteligente <span class="highlight">em 10 minutos</span>
            </h2>

            <div class="news-steps">
                <div class="news-step">
                    <div class="news-step-number">1.</div>
                    <h3 class="news-step-title">se inscreva</h3>
                    <p class="news-step-description">
                        entre para o <strong>Ramppy News</strong> e tenha acesso <strong>gratuito</strong> aos conteúdos no site e na comunidade do <strong>WhatsApp</strong>
                    </p>
                    <a href="#signup" class="news-step-btn">entrar para o Ramppy News</a>
                </div>
                <div class="news-step">
                    <div class="news-step-number">2.</div>
                    <h3 class="news-step-title">acompanhe os conteúdos</h3>
                    <p class="news-step-description">
                        <strong>todos os dias</strong> publicamos conteúdos <strong>práticos e diretos ao ponto</strong> no site, com materiais <strong>exclusivos</strong> na comunidade do WhatsApp
                    </p>
                    <a href="https://chat.whatsapp.com/SEU_LINK_AQUI" target="_blank" rel="noopener" class="news-step-btn news-step-btn-whatsapp">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        entrar na comunidade
                    </a>
                </div>
                <div class="news-step">
                    <div class="news-step-number">3.</div>
                    <h3 class="news-step-title">evolua vendendo</h3>
                    <p class="news-step-description">
                        aplique os <strong>aprendizados no dia a dia</strong> e melhore sua <strong>performance em vendas</strong> de forma contínua
                    </p>
                    <span class="news-step-btn-spacer"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits -->
    <section class="news-benefits">
        <div class="container">
            <h2 class="news-section-title">
                para quem é o <span class="highlight">Ramppy News</span>
            </h2>

            <div class="news-benefits-grid">
                <div class="news-benefit">
                    <div class="news-benefit-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                    </div>
                    <div class="news-benefit-text">
                        <h4>Vendedores</h4>
                        <p>Aprenda técnicas práticas para melhorar sua performance individual</p>
                    </div>
                </div>
                <div class="news-benefit">
                    <div class="news-benefit-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="news-benefit-text">
                        <h4>Líderes de vendas</h4>
                        <p>Desenvolva seu time com estratégias comprovadas de gestão</p>
                    </div>
                </div>
                <div class="news-benefit">
                    <div class="news-benefit-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10"/>
                            <line x1="12" y1="20" x2="12" y2="4"/>
                            <line x1="6" y1="20" x2="6" y2="14"/>
                        </svg>
                    </div>
                    <div class="news-benefit-text">
                        <h4>Gestores comerciais</h4>
                        <p>Dados e insights para tomar decisões mais inteligentes</p>
                    </div>
                </div>
                <div class="news-benefit">
                    <div class="news-benefit-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                    </div>
                    <div class="news-benefit-text">
                        <h4>SDRs e BDRs</h4>
                        <p>Evolua na carreira com conteúdo focado em prospecção e qualificação</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Editions -->
    <section class="news-editions" id="editions">
        <div class="container">
            <div class="news-editions-header">
                <h2 class="news-editions-title">Edições</h2>
            </div>

            <!-- Search and Filters -->
            <div class="editions-search-container">
                <div class="editions-search">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" id="editions-search-input" placeholder="Pesquisar posts..." oninput="filterPublicEditions()">
                </div>
                <div class="editions-filters" id="editions-filters">
                    <button class="filter-tag active" data-filter="todas" onclick="setPublicFilter('todas')">TODAS</button>
                </div>
            </div>

            <!-- Dynamic Editions Container -->
            <div id="editions-container">
                <div class="loading-editions">Carregando edições...</div>
            </div>
        </div>
    </section>

    <!-- Edition Modal -->
    <div class="edition-modal" id="edition-modal">
        <div class="edition-modal-content">
            <button class="edition-modal-close" onclick="closeEditionModal()">×</button>
            <div id="edition-modal-body"></div>
        </div>
    </div>

    <!-- CTA Section -->
    <section class="news-cta">
        <div class="container">
            <h2>Pronto para vender melhor?</h2>
            <p>Inscreva-se agora e receba conteúdo gratuito toda semana</p>

            <form class="subscribe-form" id="news-subscribe-form-bottom">
                <div class="input-wrapper">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                        <polyline points="22,6 12,13 2,6"/>
                    </svg>
                    <input type="email" placeholder="coloque seu melhor e-mail" required>
                </div>
                <button type="submit">inscreva-se</button>
            </form>

            <div class="news-social">
                <a href="https://www.linkedin.com/company/ramppy" target="_blank" rel="noopener" aria-label="LinkedIn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
                <a href="https://www.instagram.com/ramppy.ia" target="_blank" rel="noopener" aria-label="Instagram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                    </svg>
                </a>
                <a href="https://www.youtube.com/@ramppy" target="_blank" rel="noopener" aria-label="YouTube">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Modal de Login -->
    <div id="login-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fechar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <div class="login-header">
                <div class="login-logo">
                    <img src="Ramppy logo branca site.png" alt="Ramppy" style="height: 40px;">
                </div>
                <h2>Bem-vindo à <span class="gradient-text">Ramppy</span></h2>
                <p>Faça login para continuar</p>
            </div>

            <form id="login-form" class="auth-form active">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" placeholder="seu@email.com" required autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="login-senha">Senha</label>
                    <div class="password-input">
                        <input type="password" id="login-senha" placeholder="••••••••" required autocomplete="off">
                        <button type="button" class="toggle-password" aria-label="Mostrar senha">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <a href="#" class="forgot-password">Esqueceu sua senha?</a>

                <button type="submit" class="btn-primary btn-full btn-auth">Entrar</button>

                <p class="auth-switch">
                    Não tem uma conta? <a href="#signup" class="switch-link">Cadastre-se</a>
                </p>
            </form>

            <p class="login-footer">© 2026 Ramppy. Todos os direitos reservados.</p>
        </div>
    </div>

    <!-- Modal de Cadastro -->
    <div id="signup-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fechar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <div class="login-header">
                <div class="login-logo">
                    <img src="Ramppy logo branca site.png" alt="Ramppy" style="height: 40px;">
                </div>
                <h2>Criar sua conta <span class="gradient-text">Ramppy</span></h2>
                <p>Comece a potencializar suas vendas</p>
            </div>

            <form id="signup-form" class="auth-form active">
                <div class="form-group">
                    <label for="signup-nome">Nome Completo</label>
                    <input type="text" id="signup-nome" placeholder="Seu nome" required>
                </div>

                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" placeholder="seu@email.com" required autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="signup-senha">Senha</label>
                    <div class="password-input">
                        <input type="password" id="signup-senha" placeholder="••••••••" required autocomplete="off">
                        <button type="button" class="toggle-password" aria-label="Mostrar senha">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="signup-empresa">Empresa</label>
                    <input type="text" id="signup-empresa" placeholder="Nome da empresa" required>
                </div>

                <button type="submit" class="btn-primary btn-full btn-auth">Criar Conta</button>

                <p class="auth-terms">
                    Ao criar uma conta, você concorda com nossa
                    <a href="privacidade.html">Política de Privacidade</a>
                </p>

                <p class="auth-switch">
                    Já tem uma conta? <a href="#login" class="switch-link">Faça login</a>
                </p>
            </form>

            <p class="login-footer">© 2026 Ramppy. Todos os direitos reservados.</p>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <img src="Ramppy logo branca site.png" alt="Ramppy" class="footer-logo">
                    <p class="footer-description">
                        Transformando equipes de vendas com inteligência artificial e metodologias comprovadas.
                    </p>
                </div>
                <div class="footer-column">
                    <h4>Empresa</h4>
                    <ul>
                        <li><a href="sobre.html">Sobre Nós</a></li>
                        <li><a href="carreiras.html">Carreiras</a></li>
                        <li><a href="contato.html">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Suporte</h4>
                    <ul>
                        <li><a href="contato.html">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="privacidade.html">Privacidade</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Ramppy. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="security-utils.js"></script>
    <script src="notification-system.js"></script>
    <script src="error-handler.js"></script>
    <script src="supabase-config.js"></script>
    <script src="brand-color-loader.js"></script>
    <script src="auth-secure.js"></script>
    <script src="fix-auth-timing.js"></script>
    <script src="auth-handlers-safe.js"></script>
    <script src="script.js"></script>

    <script>
        // Newsletter subscription handler
        document.querySelectorAll('.subscribe-form').forEach(form => {
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = this.querySelector('input[type="email"]').value;
                const button = this.querySelector('button');
                const originalText = button.textContent;

                button.textContent = 'Enviando...';
                button.disabled = true;

                try {
                    // Here you would integrate with your newsletter service
                    // For now, we'll simulate success
                    await new Promise(resolve => setTimeout(resolve, 1000));

                    button.textContent = 'Inscrito!';
                    button.style.background = '#22c55e';
                    this.querySelector('input').value = '';

                    if (window.showNotification) {
                        showNotification('Inscrição realizada com sucesso! Bem-vindo ao Ramppy News.', 'success');
                    }

                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = '';
                        button.disabled = false;
                    }, 3000);
                } catch (error) {
                    button.textContent = 'Erro. Tente novamente.';
                    button.style.background = '#ef4444';

                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = '';
                        button.disabled = false;
                    }, 3000);
                }
            });
        });

        // Filter tags functionality
        document.querySelectorAll('.news-filter-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                document.querySelectorAll('.news-filter-tag').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ========== MARKDOWN PARSER ==========
        function parseMarkdown(text) {
            if (!text) return '';

            let html = text;

            // Escape HTML first (security)
            html = html.replace(/</g, '&lt;').replace(/>/g, '&gt;');

            // Bold: **text**
            html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');

            // Italic: *text*
            html = html.replace(/\*(.+?)\*/g, '<em>$1</em>');

            // Underline: __text__
            html = html.replace(/__(.+?)__/g, '<u>$1</u>');

            // Highlight: ==text==
            html = html.replace(/==(.+?)==/g, '<mark>$1</mark>');

            // Links: [text](url)
            html = html.replace(/\[(.+?)\]\((.+?)\)/g, '<a href="$2" target="_blank" rel="noopener">$1</a>');

            // Headings: ## text
            html = html.replace(/^## (.+)$/gm, '<h3 class="article-heading">$1</h3>');

            // Blockquote: > text
            html = html.replace(/^&gt; (.+)$/gm, '<blockquote class="article-quote">$1</blockquote>');

            // Bullet list: • item
            html = html.replace(/^• (.+)$/gm, '<li>$1</li>');
            // Wrap consecutive li elements in ul
            html = html.replace(/(<li>.+<\/li>\n?)+/g, '<ul class="article-list">$&</ul>');

            // Line breaks
            html = html.replace(/\n/g, '<br>');

            // Clean up double breaks after block elements
            html = html.replace(/<\/(h3|blockquote|ul)><br>/g, '</$1>');
            html = html.replace(/<br><(h3|blockquote|ul)/g, '<$1');

            return html;
        }

        // ========== LOAD EDITIONS FROM SUPABASE - CARD GRID ==========
        let allPublicEditions = [];
        let currentPublicFilter = 'todas';

        // Gradients para cards sem imagem
        const publicCardGradients = [
            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
            'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
            'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
            'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
            'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
            'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
            'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'
        ];

        async function loadEditions() {
            const container = document.getElementById('editions-container');
            if (!container) return;

            // Aguardar Supabase inicializar
            let attempts = 0;
            while (!window.supabaseClient && attempts < 10) {
                await new Promise(resolve => setTimeout(resolve, 200));
                attempts++;
            }

            if (!window.supabaseClient) {
                container.innerHTML = `
                    <div class="no-editions">
                        <p>Erro ao conectar com o servidor.</p>
                        <p>Tente recarregar a página.</p>
                    </div>
                `;
                return;
            }

            try {
                // Buscar edições do Supabase
                const { data: editions, error } = await window.supabaseClient
                    .from('editions')
                    .select(`
                        id,
                        title,
                        created_at,
                        cover_image,
                        cover_image_position,
                        cover_image_zoom,
                        edition_topics (
                            emoji,
                            text,
                            display_order
                        ),
                        articles (
                            category,
                            title,
                            content,
                            image_url,
                            display_order
                        )
                    `)
                    .order('created_at', { ascending: false });

                if (error) throw error;

                if (!editions || editions.length === 0) {
                    container.innerHTML = `
                        <div class="no-editions">
                            <p>Nenhuma edição publicada ainda.</p>
                            <p>Volte em breve para conferir nosso conteúdo!</p>
                        </div>
                    `;
                    return;
                }

                // Ordenar tópicos e artigos por display_order
                editions.forEach(edition => {
                    if (edition.edition_topics) {
                        edition.edition_topics.sort((a, b) => a.display_order - b.display_order);
                    }
                    if (edition.articles) {
                        edition.articles.sort((a, b) => a.display_order - b.display_order);
                    }
                });

                allPublicEditions = editions;
                updatePublicFilters();
                renderPublicEditions(editions);

            } catch (error) {
                console.error('Erro ao carregar edições:', error);
                container.innerHTML = `
                    <div class="no-editions">
                        <p>Erro ao carregar edições.</p>
                        <p>Tente novamente mais tarde.</p>
                    </div>
                `;
            }
        }

        function updatePublicFilters() {
            const categories = new Set();
            allPublicEditions.forEach(edition => {
                (edition.articles || []).forEach(article => {
                    if (article.category) categories.add(article.category);
                });
            });

            const filtersContainer = document.getElementById('editions-filters');
            if (!filtersContainer) return;

            let filtersHtml = '<button class="filter-tag active" data-filter="todas" onclick="setPublicFilter(\'todas\')">TODAS</button>';
            categories.forEach(category => {
                filtersHtml += `<button class="filter-tag" data-filter="${category}" onclick="setPublicFilter('${category}')">${category}</button>`;
            });
            filtersContainer.innerHTML = filtersHtml;
        }

        function setPublicFilter(filter) {
            currentPublicFilter = filter;
            document.querySelectorAll('.editions-filters .filter-tag').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.filter === filter) btn.classList.add('active');
            });
            filterPublicEditions();
        }

        function filterPublicEditions() {
            const searchInput = document.getElementById('editions-search-input');
            const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';

            let filtered = allPublicEditions.filter(edition => {
                const matchesSearch = edition.title.toLowerCase().includes(searchTerm);
                let matchesCategory = currentPublicFilter === 'todas';
                if (!matchesCategory && edition.articles) {
                    matchesCategory = edition.articles.some(a => a.category === currentPublicFilter);
                }
                return matchesSearch && matchesCategory;
            });

            renderPublicEditions(filtered);
        }

        function renderPublicEditions(editions) {
            const container = document.getElementById('editions-container');
            if (!container) return;

            if (editions.length === 0) {
                container.innerHTML = '<div class="no-editions"><p>Nenhuma edição encontrada.</p></div>';
                return;
            }

            container.innerHTML = `
                <div class="editions-grid">
                    ${editions.map((edition, index) => {
                        const topicsCount = edition.edition_topics?.length || 0;
                        const articlesCount = edition.articles?.length || 0;
                        const firstArticle = edition.articles?.[0];
                        const category = firstArticle?.category || 'EDIÇÃO';
                        // Use cover image from edition
                        const imageUrl = edition.cover_image;
                        const imagePosition = edition.cover_image_position || 'center center';
                        const imageZoom = edition.cover_image_zoom || 100;
                        const gradient = publicCardGradients[index % publicCardGradients.length];

                        const date = new Date(edition.created_at);
                        const timeAgo = getPublicTimeAgo(date);
                        const formattedDate = date.toLocaleDateString('pt-BR');

                        // Calcular estilos baseado no zoom
                        let imageStyles = '';
                        if (imageUrl) {
                            if (imageZoom < 100) {
                                imageStyles = `object-fit: contain; width: ${imageZoom}%; height: ${imageZoom}%; object-position: center center;`;
                            } else {
                                imageStyles = `object-position: ${imagePosition}; transform: scale(${imageZoom / 100});`;
                            }
                        }

                        return `
                            <div class="edition-card" onclick="openEditionModal('${edition.id}')">
                                <div class="edition-card-image" style="${!imageUrl ? `background: ${gradient}` : 'display: flex; align-items: center; justify-content: center;'}">
                                    ${imageUrl ? `<img src="${imageUrl}" alt="${escapeHtml(edition.title)}" style="${imageStyles}">` : '<span class="placeholder-icon">📰</span>'}
                                    <span class="edition-card-category">${escapeHtml(category)}</span>
                                </div>
                                <div class="edition-card-info">
                                    <div class="edition-card-date">${timeAgo}</div>
                                    <div class="edition-card-title">${escapeHtml(edition.title)}</div>
                                    <div class="edition-card-subtitle">${formattedDate}</div>
                                    <div class="edition-card-stats">
                                        <span>📌 ${topicsCount} destaque${topicsCount !== 1 ? 's' : ''}</span>
                                        <span>📰 ${articlesCount} artigo${articlesCount !== 1 ? 's' : ''}</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function getPublicTimeAgo(date) {
            const now = new Date();
            const diffMs = now - date;
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

            if (diffHours < 1) return 'Agora';
            if (diffHours < 24) return `${diffHours} hora${diffHours !== 1 ? 's' : ''} atrás`;
            if (diffDays < 7) return `${diffDays} dia${diffDays !== 1 ? 's' : ''} atrás`;
            return date.toLocaleDateString('pt-BR', { day: 'numeric', month: 'short', year: 'numeric' });
        }

        function openEditionModal(editionId) {
            const edition = allPublicEditions.find(e => e.id === editionId);
            if (!edition) return;

            const modal = document.getElementById('edition-modal');
            const body = document.getElementById('edition-modal-body');

            const editionIndex = allPublicEditions.indexOf(edition);
            const editionNumber = allPublicEditions.length - editionIndex;

            body.innerHTML = `
                <div class="edition-modal-header">
                    <span class="edition-modal-number">Edição #${editionNumber}</span>
                    <span class="edition-modal-date">${formatDate(edition.created_at)}</span>
                </div>
                <h2 class="edition-modal-title">${escapeHtml(edition.title)}</h2>

                <div class="edition-highlights">
                    <h4>Nesta edição:</h4>
                    <ul>
                        ${(edition.edition_topics || []).map(t => `<li><span class="topic-emoji">${t.emoji}</span> ${escapeHtml(t.text)}</li>`).join('')}
                    </ul>
                </div>

                <div class="edition-articles">
                    ${(edition.articles || []).map(article => `
                        <div class="article-card">
                            <span class="article-category">${escapeHtml(article.category)}</span>
                            <h3 class="article-title">${escapeHtml(article.title)}</h3>
                            ${article.image_url ? `<img src="${escapeHtml(article.image_url)}" alt="${escapeHtml(article.title)}" class="article-image" style="width: 100%; border-radius: 12px; margin: 16px 0;">` : ''}
                            <div class="article-content">${parseMarkdown(article.content)}</div>
                        </div>
                    `).join('')}
                </div>
            `;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeEditionModal() {
            document.getElementById('edition-modal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Fechar modal clicando fora
        document.getElementById('edition-modal')?.addEventListener('click', function(e) {
            if (e.target === this) closeEditionModal();
        });

        // Fechar com Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeEditionModal();
        });

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            return date.toLocaleDateString('pt-BR', options);
        }

        // Load editions on page load
        document.addEventListener('DOMContentLoaded', loadEditions);
    </script>
</body>
</html>
